{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/2016-08-16-start-your-rails-project-with-production-mode/","result":{"data":{"markdownRemark":{"id":"5c5ec3e7-fe77-561c-99e6-2f3f86edba22","html":"<h1 id=\"quick-reference\" style=\"position:relative;\"><a href=\"#quick-reference\" aria-label=\"quick reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Quick Reference:</h1>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">RAILS_ENV</span><span class=\"token operator\">=</span>production rake db:migrate\n$ rake secret //產生secret key\n$ <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">SECRET_KEY_BASE</span><span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>貼入上個指令產生出來的密鑰<span class=\"token punctuation\">]</span>\n$ <span class=\"token function\">vim</span> config/initializers/assets.rb  //加入用到的assets路徑\n確認各處引用assets的方法正確\n$ <span class=\"token assign-left variable\">RAILS_ENV</span><span class=\"token operator\">=</span>production rake assets:precompile\n$ <span class=\"token function\">vim</span> config/environments/production.rb  //將這行改成true: config.serve_static_assets <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n$ rails s -e production</code></pre></div>\n<!-- more -->\n<hr>\n<h1 id=\"什麼是production模式？為什麼要用它？\" style=\"position:relative;\"><a href=\"#%E4%BB%80%E9%BA%BC%E6%98%AFproduction%E6%A8%A1%E5%BC%8F%EF%BC%9F%E7%82%BA%E4%BB%80%E9%BA%BC%E8%A6%81%E7%94%A8%E5%AE%83%EF%BC%9F\" aria-label=\"什麼是production模式？為什麼要用它？ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>什麼是production模式？為什麼要用它？</h1>\n<p>在通常情況下，直接在你的專案裡下<code class=\"language-text\">$ rails s</code>這條指令，我們是使用development mode來啟動你的專案</p>\n<p>在development模式下，大部分的修改都會直接顯現在網頁上，方便開發</p>\n<p>但實際讓系統上線，我們不會使用development模式，而是<strong>production模式</strong></p>\n<p>在production模式裡，rails會將assets預編譯在一起(pre-compile)，並放在public/資料夾底下以供存取，這能<strong>增進網站效能</strong></p>\n<h1 id=\"使用production-mode啟動rails專案\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8production-mode%E5%95%9F%E5%8B%95rails%E5%B0%88%E6%A1%88\" aria-label=\"使用production mode啟動rails專案 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用production mode啟動rails專案</h1>\n<h2 id=\"0migrate你的資料庫\" style=\"position:relative;\"><a href=\"#0migrate%E4%BD%A0%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB\" aria-label=\"0migrate你的資料庫 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0.migrate你的資料庫</h2>\n<p>production mode和development mode的資料庫是分開的，所以你需要再migrate一次</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">RAILS_ENV</span><span class=\"token operator\">=</span>production rake db:migrate</code></pre></div>\n<h2 id=\"1修改configsecretyml，設定production-mode的secretkeybase\" style=\"position:relative;\"><a href=\"#1%E4%BF%AE%E6%94%B9configsecretyml%EF%BC%8C%E8%A8%AD%E5%AE%9Aproduction-mode%E7%9A%84secretkeybase\" aria-label=\"1修改configsecretyml，設定production mode的secretkeybase permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.修改config/secret.yml，設定production mode的secret<em>key</em>base</h2>\n<p>要順利運行rails程式，你需要設定一個叫<strong>secret<em>key</em>base</strong>的東西，它是rails用來認證瀏覽器cookie的一串密鑰。rails已經幫你在development mode和test mode設定好了，但production mode沒有，你得自己來，它的設定在<strong>config/secret.yml</strong>這隻檔案，讓我們來看看它：</p>\n<div class=\"gatsby-highlight\" data-language=\"csecret.yml\"><pre class=\"language-csecret.yml\"><code class=\"language-csecret.yml\">// development mode的設定\n// 它使用 b1f4eb...3a9 這串密鑰（隨機生成的）\ndevelopment:\n  secret_key_base: b1f4eb6c1d97f627fbc0a3919fc27ab5f831200cdd0ea72317f404a2b9d878192bca27d92380f56051c60d0a364c86fe53d9b9866d487a17cf06582a783723a9\n\n// test mode使用 fe9d...c3b 這串密鑰\ntest:\n  secret_key_base: fe9d49b7edc8e3a4dfa47c0682974aca4572388e929ea3e4f037b3e8841747fc3029e030bbd102a62d372596b4d753dd0c419b7425a8dcceca3817cf7d5dbc3b\n\n// production mode從執行環境裡抓 $SECRET_KEY_BASE 這個環境變數當作密鑰，但正常情況下該變數並不存在，所以出錯\nproduction:\n  secret_key_base: &lt;%= ENV[&quot;SECRET_KEY_BASE&quot;] %&gt;</code></pre></div>\n<p>你有兩種方法能設定production mode的secret<em>key</em>base</p>\n<h3 id=\"1比較簡易的做法是直接寫死一串固定的密鑰給它：\" style=\"position:relative;\"><a href=\"#1%E6%AF%94%E8%BC%83%E7%B0%A1%E6%98%93%E7%9A%84%E5%81%9A%E6%B3%95%E6%98%AF%E7%9B%B4%E6%8E%A5%E5%AF%AB%E6%AD%BB%E4%B8%80%E4%B8%B2%E5%9B%BA%E5%AE%9A%E7%9A%84%E5%AF%86%E9%91%B0%E7%B5%A6%E5%AE%83%EF%BC%9A\" aria-label=\"1比較簡易的做法是直接寫死一串固定的密鑰給它： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1)比較簡易的做法是直接寫死一串固定的密鑰給它：</h3>\n<div class=\"gatsby-highlight\" data-language=\"csecret.yml\"><pre class=\"language-csecret.yml\"><code class=\"language-csecret.yml\">// 前略...\n\nproduction:\n// 刪掉原本的 &lt;%= ... %&gt; ，替換成隨便一串長度30以上的英數組合字串給他當密鑰\n\tsecret_key_base: iameasonchangiamhandsomeiamthekingoftheworldnoonecandefeatmeiwantagirlfriendiamaloserqq</code></pre></div>\n<h3 id=\"2更安全的做法是把密鑰設在執行環境中：\" style=\"position:relative;\"><a href=\"#2%E6%9B%B4%E5%AE%89%E5%85%A8%E7%9A%84%E5%81%9A%E6%B3%95%E6%98%AF%E6%8A%8A%E5%AF%86%E9%91%B0%E8%A8%AD%E5%9C%A8%E5%9F%B7%E8%A1%8C%E7%92%B0%E5%A2%83%E4%B8%AD%EF%BC%9A\" aria-label=\"2更安全的做法是把密鑰設在執行環境中： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2)更安全的做法是把密鑰設在執行環境中：</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ rake secret // 生成一串密鑰，顯示在終端機上\n$ <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">SECRET_KEY_BASE</span><span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>此處貼上你剛剛產生的密鑰<span class=\"token punctuation\">]</span> // 把密鑰設定至環境變數 <span class=\"token variable\">$SECRET_KEY_BASE</span></code></pre></div>\n<p>但只做到這樣的話，重開終端機的話環境變數設定就消失了，所以可以把設定寫進環境設定檔裡頭</p>\n<p>像我使用zsh的話，環境設定檔是<strong>./.zshrc</strong>\n而Mac的terminal預設的bash，則是<strong>./.bash_profile</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash.zshrc\"><pre class=\"language-bash.zshrc\"><code class=\"language-bash.zshrc\">// 在.zshrc中插入下面這行\nexport SECRET_KEY_BASE=[此處貼上你剛剛產生的密鑰]</code></pre></div>\n<p>到此你應該可以無錯誤地使用production mode開啟你的rails專案了，你可以下<code class=\"language-text\">$ rails s -e production</code>來開啟伺服器，並且用瀏覽器連至<code class=\"language-text\">localhost:3000</code>查看目前的結果</p>\n<p>你的畫面應該跟我很像，怎麼醜不拉幾的？我不眠不休設計出來的精美網頁呢？</p>\n<p><img src=\"https://i.imgur.com/oVAdVyK.png?2\" alt=\"Imgur\"></p>\n<p>那是因為你還沒有告訴rails你用到了哪些設計元素，接下來的步驟教你怎麼做：</p>\n<h2 id=\"2告訴rails你有哪些assets需要被pre-compile\" style=\"position:relative;\"><a href=\"#2%E5%91%8A%E8%A8%B4rails%E4%BD%A0%E6%9C%89%E5%93%AA%E4%BA%9Bassets%E9%9C%80%E8%A6%81%E8%A2%ABpre-compile\" aria-label=\"2告訴rails你有哪些assets需要被pre compile permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.告訴rails你有哪些assets需要被pre-compile</h2>\n<p>前面我們提過，使用production mode的理由是<strong>增進網頁讀取效能</strong>，方法是<strong>預編譯(pre-compile)各類assets</strong>，而你需要手動告訴rails你有哪些assets需要預編譯，除了圖檔，所有使用到的assets都需要加入裡頭，如js、css檔</p>\n<p>方法是更新<strong>config/initializers/assets.rb</strong>這隻檔案，加入你有使用到的assets的路徑：</p>\n<div class=\"gatsby-highlight\" data-language=\"c++assets.rb\"><pre class=\"language-c++assets.rb\"><code class=\"language-c++assets.rb\">// 前略...\n// 後面加入這一行，裡頭放入你要precompile的檔案\nRails.application.config.assets.precompile += [\n  &#39;bootstrap.js&#39;, // 請幫我compile vendor/assets/javascripts/bootstrap.js 這支檔案\n\t&#39;courses/content.js&#39;, // 還有 app/assets/javascripts/courses/content.js\n\t&#39;courses/chart.js&#39;,  // app/assets/javascripts/courses/chart.js 也要\n\t&#39;new-index.css&#39;, // 還有這個css，它在app/assets/stylesheets/new-index.css.scss\n\t&#39;login.css&#39;, // app/assets/stylesheets/login.css.erb也要\n\t&#39;newcomer/*.css&#39;, // app/assets/stylesheets/newcomer/裡面的css檔都要！\n\t&#39;NotoSans-Regular-ttf&#39; // 這個是字形檔唷！它在app/assets/fonts/NotoSans-Regular-ttf\n]</code></pre></div>\n<p>rails會去 <strong>app/assets/</strong> 和 <strong>vendor/assets/</strong> 這兩個資料夾去找你的assets檔案，並且會根據副檔名尋找對應的路徑：</p>\n<ul>\n<li>js檔會去找底下的 <strong>javascripts/</strong></li>\n<li>css檔會去找底下的 <strong>stylesheets/</strong></li>\n<li>font檔會去找底下的 <strong>fonts/</strong></li>\n<li>image檔會去找底下的 <strong>images/</strong></li>\n</ul>\n<p>但rails預設會幫你compile所有的圖檔，所以<strong>.png、.jpg等圖檔就不用加進去</strong>了</p>\n<h2 id=\"3確認你引入assets的方法有沒有誤\" style=\"position:relative;\"><a href=\"#3%E7%A2%BA%E8%AA%8D%E4%BD%A0%E5%BC%95%E5%85%A5assets%E7%9A%84%E6%96%B9%E6%B3%95%E6%9C%89%E6%B2%92%E6%9C%89%E8%AA%A4\" aria-label=\"3確認你引入assets的方法有沒有誤 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.確認你引入assets的方法有沒有誤</h2>\n<p>compile後的assets，檔名會改變，所以傳統引入assets的方法會失效，必須改用rails提供的方法</p>\n<ul>\n<li>引入js檔使用 <code class=\"language-text\">&lt;%= javascript_include_tag &#39;your-js-path&#39; %&gt;</code></li>\n<li>引入css檔使用 <code class=\"language-text\">&lt;%= stylesheet_link_tag &#39;your-css-path&#39; %&gt;</code></li>\n<li>引入圖檔使用 <code class=\"language-text\">&lt;%= image_tag &#39;your-image-path&#39; %&gt;</code></li>\n<li>js檔裡要再引入asset請使用 <code class=\"language-text\">&lt;%= asset_path(&#39;your-img-path&#39;) %&gt;</code></li>\n</ul>\n<h2 id=\"4pre-compile-it\" style=\"position:relative;\"><a href=\"#4pre-compile-it\" aria-label=\"4pre compile it permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.Pre-compile it!</h2>\n<p>在你的專案目錄裡下指令：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">RAILS_ENV</span><span class=\"token operator\">=</span>production rake assets:precompile</code></pre></div>\n<p>就會將assets pre-compile進/public/assets裡頭</p>\n<h2 id=\"5修改production的模式設定\" style=\"position:relative;\"><a href=\"#5%E4%BF%AE%E6%94%B9production%E7%9A%84%E6%A8%A1%E5%BC%8F%E8%A8%AD%E5%AE%9A\" aria-label=\"5修改production的模式設定 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.修改production的模式設定</h2>\n<p>雖然compile了，但production模式預設是不會讓使用者讀取/public/assets的檔案</p>\n<p>必須修改 <strong>config/environments/production.rb</strong> 這個檔案</p>\n<p>將位在第24行左右的</p>\n<div class=\"gatsby-highlight\" data-language=\"rubyproduction.rb\"><pre class=\"language-rubyproduction.rb\"><code class=\"language-rubyproduction.rb\">config.serve_static_assets = false</code></pre></div>\n<p>改為 <strong>true</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"rubyproduction.rb\"><pre class=\"language-rubyproduction.rb\"><code class=\"language-rubyproduction.rb\">config.serve_static_assets = true</code></pre></div>\n<h2 id=\"6使用production-mode啟動吧\" style=\"position:relative;\"><a href=\"#6%E4%BD%BF%E7%94%A8production-mode%E5%95%9F%E5%8B%95%E5%90%A7\" aria-label=\"6使用production mode啟動吧 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6.使用production mode啟動吧!!</h2>\n<p>在專案的目錄裡下指令：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ rails s -e production</code></pre></div>\n<p>就可以使用production mode開啟你的rails專案啦！</p>\n<p>使用瀏覽器連入<code class=\"language-text\">localhost:3000</code>，就可以看到你速度大幅提升的美麗網頁啦！</p>\n<p><img src=\"https://imgur.com/IGxS4QM.jpg\" alt=\"imgur\"></p>\n<hr>\n<p>測試環境：</p>\n<ul>\n<li>OS: Mac OS X</li>\n<li>Rails version: 4.2.6</li>\n<li>Ruby version: 2.0.0p481</li>\n<li>Shell: zsh</li>\n</ul>","fields":{"slug":"/posts/2016-08-16-start-your-rails-project-with-production-mode/","tagSlugs":["/tag/rails/","/tag/tutorial/"]},"frontmatter":{"date":"2016-08-16 02:34","description":"","tags":["Rails","Tutorial"],"title":"使用production mode啟動你的rails專案","socialImage":"https://imgur.com/a21E49E.jpg"}}},"pageContext":{"slug":"/posts/2016-08-16-start-your-rails-project-with-production-mode/"}},"staticQueryHashes":["251939775","401334301","825871152"]}