{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/2021-10-17-ironman-day1-nextjs-wordpress-intro/","result":{"data":{"markdownRemark":{"id":"a27da979-5db9-53dd-893c-3072a23f96c6","html":"<p>哈囉，我是Eason，歡迎來到我的 <strong>「WordPress 再進化，用 Next.js 拆分前端，實現 UI 完全客製化及優化效能與 SEO」</strong> 30天鐵人賽系列文章。</p>\n<h2 id=\"源起：需要改善現存-wordpress-專案\" style=\"position:relative;\"><a href=\"#%E6%BA%90%E8%B5%B7%EF%BC%9A%E9%9C%80%E8%A6%81%E6%94%B9%E5%96%84%E7%8F%BE%E5%AD%98-wordpress-%E5%B0%88%E6%A1%88\" aria-label=\"源起：需要改善現存 wordpress 專案 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>源起：需要改善現存 WordPress 專案</h2>\n<p>最近做專案需要，接手了一個舊有 WordPress 部落格網站的維護與開發，需要改善它的效能、增進使用者體驗、套版全新的 UI 樣式，加新功能等等。</p>\n<p>由於我不熟 WordPress 開發，套UI時要硬改原本 theme 的 UI block 符合新樣式很痛苦，追效能問題時改底層 php code 也很痛苦，我們 WordPress 沒有使用版本控制，要回朔以前改過哪些東西很痛苦，改完要從測試環境 deploy 到正式環境時也很痛苦，整個開發者體驗非常差。</p>\n<p>也由於 WordPress 是架構滿完整的整包 PHP-based 網頁應用，如果不去魔改底層 php code 的話，優化效能常規手段就是裝 WordPress plugin 來加速，但裝 plugin 的動作又會增加 WordPress 的頁面 size，好的 plugin 很多也要收費，很難在購買之前先試用知道有沒有效，也由於 plugin 封裝了很多功能在裡頭，對我來說滿黑箱的，比較難知道裡頭做了哪些事情，不利於個人知識累積，要客製化的話也無從改起，掌握度不夠高。</p>\n<h2 id=\"方法：導入-nextjs，將-wordpress-前端拆分出來\" style=\"position:relative;\"><a href=\"#%E6%96%B9%E6%B3%95%EF%BC%9A%E5%B0%8E%E5%85%A5-nextjs%EF%BC%8C%E5%B0%87-wordpress-%E5%89%8D%E7%AB%AF%E6%8B%86%E5%88%86%E5%87%BA%E4%BE%86\" aria-label=\"方法：導入 nextjs，將 wordpress 前端拆分出來 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>方法：導入 Next.js，將 WordPress 前端拆分出來</h2>\n<p>所以為了提升自己開發者體驗、前端客製化的掌握度、以及能更大程度的提升效能，不要受限於 WordPress 各種限制，我的解法是「導入 Next.js，將 WordPress 前端拆分出來」，將原本只有 WordPress 的單體架構，變成前端是 Next.js，後端是 WordPress 的前後端分離架構。WordPress 只當作後端使用的這個情境有個專有名詞叫Headless WordPress。</p>\n<p>現存 WordPress 裡面的文章內容和各種設定依然有效，編輯文章時依然能用 WordPress 的所見即所得編輯器去編輯，繼續發揮他 CMS（Content Management System）的功能，而前端實際呈現給使用者的畫面則交由新建立的 Next.js 專案負責，透過 API 跟 WordPress 抓取內容來呈現。</p>\n<h2 id=\"系列內容\" style=\"position:relative;\"><a href=\"#%E7%B3%BB%E5%88%97%E5%85%A7%E5%AE%B9\" aria-label=\"系列內容 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>系列內容</h2>\n<p>目前我自己的 WordPress 專案已經完成 Next.js 導入了，確實在開發者體驗、效能與使用者體驗、客製化掌握度都有了很大的進步。</p>\n<p>Next.js Frontend + Headless WordPress 這個使用情境比較少見，是這一兩年才流行起來的做法，網路上中文的教學文章比較少，實作過程也遇過滿多坑，以及需要考量的部分。所以我希望能貢獻一點我的研究成果給大家參考。</p>\n<p>這篇系列文章我會詳實紀錄我的整個拆分過程，比重大概 30% 會在 WordPress 調整，70% 會在 Next.js 新專案建立、畫面切版、功能實現。</p>\n<p>會以建立個人部落格為主題，從最初 WordPress 架設，到 Next.js 優化，整套流程都會一起走過。</p>\n<p>此系列預計會涵蓋以下主題：</p>\n<ol>\n<li>簡介（You are here!!）</li>\n<li>網站需求規劃</li>\n<li>WordPress 架設，host 平台選擇</li>\n<li>WordPress 版本控制</li>\n<li>WordPress 基本設定，基本文章內容</li>\n<li>Nextjs 介紹</li>\n<li>各種render方式 CSR、SSG、SSR、ISR 介紹</li>\n<li>Nextjs 專案建立，使用 cms-wordpress 當模板</li>\n<li>Nextjs 架站，使用 vercel</li>\n<li>GraphQL 介紹、wpgraphql 安裝</li>\n<li>前端 apollo graphql 串接</li>\n<li>preview 功能實作</li>\n<li>TailwindCSS 簡單 UI 切版</li>\n<li>復刻 category、tag 頁</li>\n<li>Dynamic page串接 &#x26; preview</li>\n<li>Navigation graphql relay</li>\n<li>WordPress menu 串接</li>\n<li>換頁進度條 nprogress</li>\n<li>YoastSEO meta 串接</li>\n<li>Favicon</li>\n<li>Custom 404 500 error page</li>\n<li>Sitemap 建立</li>\n<li>RSS feed 建立</li>\n<li>PWA 優化</li>\n<li>圖片優化</li>\n<li>搜尋功能</li>\n<li>Google page insight 效能量測</li>\n<li>Vscode 編輯器設定、Eslint, Prettier</li>\n<li>GA 追蹤</li>\n<li>功能驗收</li>\n<li>結語</li>\n</ol>\n<p>今年沒有囤稿，上面這些文章都還沒寫 QAQ，內容會根據之後撰寫狀況動態調整，如果你有特別對哪部分有興趣，或是有任何回饋和話想說，歡迎在底下留言告訴我～～</p>\n<p>準備好了嗎？那我們就出發囉！下一篇讓我們一起來做「個人部落格」的需求規劃。</p>","fields":{"slug":"/posts/2021-10-17-ironman-day1-nextjs-wordpress-intro/","tagSlugs":["/tag/13-屆it鐵人賽/","/tag/next-js/","/tag/word-press/"]},"frontmatter":{"date":"2021-10-17T14:54:12.603Z","description":"這系列文章我會詳實紀錄我用 Next.js 拆分 WordPress 前端的過程，比重大概 30% 會在 WordPress 調整，70% 會在 Next.js 新專案建立、畫面切版、功能實現。會以建立個人部落格為主題，從最初 WordPress 架設，到 Next.js 優化","tags":["13屆IT鐵人賽","Next.js","WordPress"],"title":"Day1 用 Next.js 拆分 Wordpress 前端 - 系列簡介","socialImage":""}}},"pageContext":{"slug":"/posts/2021-10-17-ironman-day1-nextjs-wordpress-intro/"}},"staticQueryHashes":["2195764341","251939775","401334301"]}