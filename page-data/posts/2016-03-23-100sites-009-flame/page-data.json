{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/2016-03-23-100sites-009-flame/","result":{"data":{"markdownRemark":{"id":"84a911ae-7288-570f-9bef-492d4d5f2160","html":"<blockquote>\n<p>一句話摘要：使用P5.js製作的類火焰互動效果</p>\n</blockquote>\n<p><a href=\"http://kamigami55.github.io/100sites/009_Flame/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">玩線上Demo</a></p>\n<p><a href=\"https://github.com/Kamigami55/100sites/tree/gh-pages/009_Flame\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">查看Github原始碼</a></p>\n<!-- more -->\n<p><img src=\"https://i.imgur.com/rqkEbP4.jpg\" alt=\"螢幕快照 2016-03-23 上午4.08.53.png\"></p>\n<p>我會知道<a href=\"http://p5js.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">P5.js</a>的存在，是因為在今年SITCON年會上聽了<a href=\"https://www.behance.net/chiunhauyou\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">游宭鎬(Chiun Hau You)</a>先生的分享，而最近看他用P5.js做的視覺辨識專案: <a href=\"https://www.behance.net/gallery/34490551/Hello-World-Programmable-Visual-Identity\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hello World - Programmable Visual Identity</a>上了<a href=\"http://codepen.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CodePen</a>的Picked Pens，迴響熱烈，讓我也開始想探索P5.js更多的可能性，於是做了今天的小火焰互動特效練習。</p>\n<p>今天沒什麼細節要講，移動你的滑鼠，享受這些小火焰吧！</p>\n<p>點滑鼠左鍵可以切換樣式，共有4種樣式。</p>\n<p>另外一種樣式：\n<img src=\"https://i.imgur.com/2hriTFz.jpg\" alt=\"螢幕快照 2016-03-23 上午4.09.52.png\"></p>\n<p>原始碼：</p>\n<div class=\"gatsby-highlight\" data-language=\"htmlindex.html\"><pre class=\"language-htmlindex.html\"><code class=\"language-htmlindex.html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset-&quot;UTF-8&quot;&gt;\n  &lt;title&gt;Flame&lt;/title&gt;\n  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot;&gt;\n  &lt;script src=&quot;http://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.23/p5.js&quot;&gt;&lt;/script&gt;\n  &lt;script src=&quot;flame.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cssstyle.css\"><pre class=\"language-cssstyle.css\"><code class=\"language-cssstyle.css\">* {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  overflow: hidden;\n}</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascriptflame.js\"><pre class=\"language-javascriptflame.js\"><code class=\"language-javascriptflame.js\">var rows = 0, // how many shapes there are vertically\n    cols = 0, // how many shapes there are horizontally\n    diameter = [], // diameter of every single shape\n    displayMode = 0, // four display mode: 0: red rect, 1: red ellipse, 2: blue rect, 3: blue ellipse\n    MARGIN = 30, // distance between two shapes\n    MAX_SIZE = 100, // max shape size when mouse approach\n    SENSE_RANGE = 200; // what distance shapes will react\n\nfunction setup() {\n\n  createCanvas(windowWidth, windowHeight);\n  strokeWeight(0);\n  ellipseMode(CENTER);\n  rectMode(CENTER);\n  frameRate(30);\n\n  rows = windowHeight / MARGIN;\n  cols = windowWidth / MARGIN;\n\n  // initialize diameter 2-dimensional array\n  for (var y = 0; y &lt; rows; ++y) { \n    diameter.push([]);\n    for (var x = 0; x &lt; cols; ++x) {\n      diameter[y].push(0);\n    }\n  }\n}\n\nfunction draw() {\n\n  background(20);\n  for (var y = 0; y &lt; rows; y += 1) {\n    for (var x = 0; x &lt; cols; x += 1) {\n      var thisDiameter = diameter[y][x];\n\n      // decrease diameter by time until diameter is 0\n      if (thisDiameter &lt; 2) {\n        diameter[y][x] = 0;        \n      } else { // thisDiameter &gt;= 2\n        diameter[y][x] -= 2;\n        thisDiameter = diameter[y][x];        \n        \n        // And we can now display it\n        // Determine which color should we use\n        if (displayMode &lt;= 1) { // 0, 1\n          fill(255,thisDiameter*2.5,0); // red color mode\n        } else { // 2, 3\n          fill(0,thisDiameter*2.5,255-thisDiameter*1.5); // blue color mode\n        }\n        // Determine which shape should we use\n        if (displayMode == 0 || displayMode == 2) { // 0, 2\n          rect(x*MARGIN, y*MARGIN, thisDiameter, thisDiameter); // rect mode\n        } else { // 1, 3\n          ellipse(x*MARGIN, y*MARGIN, thisDiameter, thisDiameter); // ellipse mode\n        }\n      } // .if-else\n    } // .for\n  } // .for\n}\n\n// when mouse moved, adjust diameters of every shapes\nfunction mouseMoved() {\n\n  for (var y = 0; y &lt; rows; y += 1) {\n    for (var x = 0; x &lt; cols; x += 1) {\n      // calculus the distance between this shape and user mouse\n      var dist = Math.sqrt((x*MARGIN-mouseX)*(x*MARGIN-mouseX)+(y*MARGIN-mouseY)*(y*MARGIN-mouseY));\n      if (dist &lt;= SENSE_RANGE) {\n        // calculus the diameter based on the distance\n        var theDiameter = (SENSE_RANGE - dist)*MAX_SIZE/SENSE_RANGE;\n        // if current diameter is smaller than the calc diameter\n        if (diameter[y][x] &lt; theDiameter) {\n          diameter[y][x] = theDiameter; // increase the current diameter to it should be\n        }\n      }\n    }\n  }\n}\n\n// switch display mode\nfunction mousePressed() {\n  ++displayMode;\n  if (displayMode &gt; 3) {\n    displayMode = 0;\n  }\n}</code></pre></div>","fields":{"slug":"/posts/2016-03-23-100sites-009-flame/","tagSlugs":["/tag/100-sites/","/tag/project/","/tag/p-5-js/","/tag/web/"]},"frontmatter":{"date":"2016-03-23 07:05","description":"","tags":["100sites","Project","P5js","Web"],"title":"【100sites #009】Flame，P5js酷炫小動畫","socialImage":"https://i.imgur.com/rqkEbP4.jpg"}}},"pageContext":{"slug":"/posts/2016-03-23-100sites-009-flame/"}},"staticQueryHashes":["251939775","401334301","825871152"]}