{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/2016-03-28-100sites-011-lifegame/","result":{"data":{"markdownRemark":{"id":"c85fb037-3ff5-556e-a3a2-492f13f3093b","html":"<h1 id=\"lifegame，生命遊戲模擬無限的可能性\" style=\"position:relative;\"><a href=\"#lifegame%EF%BC%8C%E7%94%9F%E5%91%BD%E9%81%8A%E6%88%B2%E6%A8%A1%E6%93%AC%E7%84%A1%E9%99%90%E7%9A%84%E5%8F%AF%E8%83%BD%E6%80%A7\" aria-label=\"lifegame，生命遊戲模擬無限的可能性 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LifeGame，生命遊戲模擬無限的可能性</h1>\n<p><a href=\"http://kamigami55.github.io/100sites/011_LifeGame/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">點我玩生命遊戲線上demo</a></p>\n<p><a href=\"https://github.com/Kamigami55/100sites/tree/gh-pages/011_LifeGame\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">點我查看Github原始碼</a></p>\n<ul>\n<li>ENTER：暫停</li>\n<li>滑鼠左鍵：放置或刪除細胞</li>\n</ul>\n<!-- more -->\n<p><img src=\"https://i.imgur.com/pZmuBeF.jpg\" alt=\"螢幕快照 2016-03-27 上午12.35.39.png\"></p>\n<h2 id=\"什麼是生命遊戲？\" style=\"position:relative;\"><a href=\"#%E4%BB%80%E9%BA%BC%E6%98%AF%E7%94%9F%E5%91%BD%E9%81%8A%E6%88%B2%EF%BC%9F\" aria-label=\"什麼是生命遊戲？ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>什麼是生命遊戲？</h2>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E5%BA%B7%E5%A8%81%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">生命遊戲</a>，是由英國數學家<a href=\"https://zh.wikipedia.org/wiki/%E7%B4%84%E7%BF%B0%C2%B7%E4%BD%95%E9%A0%93%C2%B7%E5%BA%B7%E5%A8%81\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">John Horton Conway</a>研發的一套<a href=\"https://zh.wikipedia.org/wiki/%E7%B4%B0%E8%83%9E%E8%87%AA%E5%8B%95%E6%A9%9F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">細胞自動機</a>模型，地圖中每個細胞會根據周圍8格細胞的狀態來決定自身的存亡，詳細規則如下：（摘錄自<a href=\"https://zh.wikipedia.org/wiki/%E5%BA%B7%E5%A8%81%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">維基百科</a>）</p>\n<!-- more -->\n<ol>\n<li>當前細胞為存活狀態時，當周圍低於 2 個（不包含 2 個）存活細胞時，該細胞變成死亡狀態。（模擬生命數量稀少）</li>\n<li>當前細胞為存活狀態時，當周圍有 2 個或 3 個存活細胞時，該細胞保持原樣。</li>\n<li>當前細胞為存活狀態時，當周圍有 3 個以上（不包含 3 個）的存活細胞時，該細胞變成死亡狀態。（模擬生命數量過多）</li>\n<li>當前細胞為死亡狀態時，當周圍有 3 個存活細胞時，該細胞變成存活狀態。 （模擬繁殖）</li>\n</ol>\n<p>僅僅這4條規則，就可以建構出一個複雜而美妙的生物遊戲世界。我們可以找到一些特殊形狀的生物單位，他們會表現出一些有趣的行為模式。</p>\n<p>三種經典的特殊生物單位：\n<img src=\"https://i.imgur.com/tCVC0LI.jpg\" alt=\"螢幕快照 2016-03-28 上午11.36.59.png\"></p>\n<ul>\n<li>左邊的Blinker(信號燈)會以特定週期變化</li>\n<li>中間的Spaceship(太空船)會往右下角移動（你也可以設計出往其他方向移動的船)</li>\n<li>右邊的Beehive(蜂窩)則會保持靜止</li>\n</ul>\n<h2 id=\"今天的lifegame\" style=\"position:relative;\"><a href=\"#%E4%BB%8A%E5%A4%A9%E7%9A%84lifegame\" aria-label=\"今天的lifegame permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>今天的LifeGame</h2>\n<p>而在今天的LifeGame裡頭，我已經為你在左上角放置一個Blinker了，剩下的空間，就交給你來創造無限的可能性了！</p>\n<p>今天的程式碼：</p>\n<div class=\"gatsby-highlight\" data-language=\"htmlindex.html\"><pre class=\"language-htmlindex.html\"><code class=\"language-htmlindex.html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset-&quot;UTF-8&quot;&gt;\n  &lt;title&gt;LifeGame&lt;/title&gt;\n  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot;&gt;\n  &lt;script src=&quot;http://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.23/p5.js&quot;&gt;&lt;/script&gt;\n  &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.23/addons/p5.dom.min.js&quot;&gt;&lt;/script&gt;\n  &lt;script src=&quot;lifegame.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cssstyle.css\"><pre class=\"language-cssstyle.css\"><code class=\"language-cssstyle.css\">* {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  overflow: hidden;\n}</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascriptlifegame.js\"><pre class=\"language-javascriptlifegame.js\"><code class=\"language-javascriptlifegame.js\">var SIZE = 20;\nvar oldMap = [],\n    newMap = [],\n    num_x = 0,\n    num_y = 0,\n    paused = false,\n    frameCount = 0;\nvar pauseButton;\n\n\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  frameRate(30);\n  \n  // init map\n  num_x = windowWidth / SIZE;\n  num_y = windowHeight / SIZE;\n  for (var i = 0; i &lt; num_x; ++i) {\n    oldMap.push([]);\n    newMap.push([]);\n    for (var j = 0; j &lt; num_y; ++j) {\n      oldMap[i].push(false);\n      newMap[i].push(false);\n    }\n  }\n  loadDefaultMap();\n\n  // init pause button\n  pauseButton = createButton(&#39;Pause&#39;);\n  pauseButton.size(80, 30);\n  pauseButton.position(windowWidth/2-40, windowHeight-40);\n  pauseButton.mousePressed(togglePauseSimulate);\n}\n\n\nfunction draw() {\n  // fresh map every 5 frames\n  if (!paused) {\n    if (frameCount%5 == 0) {\n      freshMap();\n    }\n  }\n  // increase frame count\n  ++frameCount;\n  if (frameCount &gt;= 30) {\n    frameCount = 0;\n  }\n\n  drawMap();\n}\n\n\n// default map: a blink unit at top left corner\nfunction loadDefaultMap() {\n  oldMap[1][1] = true;\n  oldMap[1][2] = true;\n  oldMap[1][3] = true;\n}\n\n\nfunction drawMap() {\n  background(0);\n  // draw grid\n  stroke(30);\n  for (var i = 0; i &lt; num_x; ++i) {\n    line(i*SIZE, 0, i*SIZE, windowHeight);\n  }\n  for (var i = 0; i &lt; num_y; ++i) {\n    line(0, i*SIZE, windowWidth, i*SIZE);\n  }\n  fill(255);\n  // draw cells\n  for (var i = 0; i &lt; num_x; ++i) {\n    for (var j = 0; j &lt; num_y; ++j) {\n      if (oldMap[i][j]) {\n        rect(i*SIZE, j*SIZE, SIZE, SIZE);\n      }\n    }\n  }\n  // draw mouse cell\n  fill(color(&#39;rgba(100,100,100,0.5)&#39;));\n  var mouseCellX = int(mouseX / SIZE);\n  var mouseCellY = int(mouseY / SIZE);\n  rect(mouseCellX*SIZE, mouseCellY*SIZE, SIZE, SIZE);\n}\n\n\n// press ENTER to pause simulate\nfunction keyPressed() {\n  if (keyCode == ENTER) {\n    togglePauseSimulate();\n  }\n}\n\n\n// press mouse to add or remove cell\nfunction mousePressed() {\n  var mouseCellX = int(mouseX / SIZE);\n  var mouseCellY = int(mouseY / SIZE);\n  oldMap[mouseCellX][mouseCellY] = !oldMap[mouseCellX][mouseCellY]\n}\n\n\nfunction togglePauseSimulate() {\n  if (paused) {\n    paused = false;\n  } else {\n    paused = true;\n  }\n}\n\n\n\n// count how many neighbors there are of a cell\nfunction neighbors(xpos, ypos) {\n  var total = 0;\n  // four corners\n  if (xpos != 0 &amp;&amp; ypos != 0) {\n    if (oldMap[xpos-1][ypos-1]) {\n      ++total;\n    }\n  }\n  if (xpos != 0 &amp;&amp; ypos != num_y-1) {\n    if (oldMap[xpos-1][ypos+1]) {\n      ++total;\n    }\n  }\n  if (xpos != num_x-1 &amp;&amp; ypos != 0) {\n    if (oldMap[xpos+1][ypos-1]) {\n      ++total;\n    }\n  }\n  if (xpos != num_x-1 &amp;&amp; ypos != num_y-1) {\n    if (oldMap[xpos+1][ypos+1]) {\n      ++total;\n    }\n  }\n  // left and right\n  if (xpos != 0) {\n    if (oldMap[xpos-1][ypos]) {\n      ++total;\n    }\n  }\n  if (xpos != num_x-1) {\n    if (oldMap[xpos+1][ypos]) {\n      ++total;\n    }\n  }\n  if (ypos != 0) {\n    if (oldMap[xpos][ypos-1]) {\n      ++total;\n    }\n  }\n  if (ypos != num_y-1) {\n    if (oldMap[xpos][ypos+1]) {\n      ++total;\n    }\n  }\n  return total;\n}\n\n\n// calculate the next map according to the Life Game rule\nfunction freshMap() {\n  for (var i = 0; i &lt; num_x; ++i) {\n    for (var j = 0; j &lt; num_y; ++j) {\n      var neighbor_count = neighbors(i, j);\n      if (neighbor_count &lt;= 1 || neighbor_count &gt;= 4) {\n        newMap[i][j] = false;\n      } else if (neighbor_count === 2) {\n        newMap[i][j] = oldMap[i][j];\n      } else { // neighbor_count === 3\n        newMap[i][j] = true;\n      }\n    }\n  }\n\n  for (var i = 0; i &lt; num_x; ++i) {\n    for (var j = 0; j &lt; num_y; ++j) {\n      oldMap[i][j] = newMap[i][j];\n    }\n  }\n}</code></pre></div>","fields":{"slug":"/posts/2016-03-28-100sites-011-lifegame/","tagSlugs":["/tag/100-sites/","/tag/project/","/tag/p-5-js/","/tag/life-game/","/tag/web/"]},"frontmatter":{"date":"2016-03-28 03:54","description":"","tags":["100sites","Project","P5js","LifeGame","Web"],"title":"【100sites #011】LifeGame，生命遊戲模擬無限的可能性","socialImage":"https://i.imgur.com/pZmuBeF.jpg"}}},"pageContext":{"slug":"/posts/2016-03-28-100sites-011-lifegame/"}},"staticQueryHashes":["251939775","401334301","825871152"]}