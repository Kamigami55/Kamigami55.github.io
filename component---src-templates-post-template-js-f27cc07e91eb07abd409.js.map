{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/iframe-resizer-react/dist/index.es.js","webpack:///./node_modules/react-likecoin/index.js","webpack:///./src/components/Post/Comments/Comments.js","webpack:///./src/components/Post/Content/Content.js","webpack:///./src/components/Post/Meta/Meta.js","webpack:///./src/components/Post/Tags/Tags.js","webpack:///./src/components/Post/Post.js","webpack:///./src/templates/post-template.js","webpack:///./src/components/Post/Content/Content.module.scss","webpack:///./node_modules/react-disqus-comments/build/main.js","webpack:///./node_modules/react-disqus-comments/build/components/DisqusThread.js","webpack:///./src/components/Post/Tags/Tags.module.scss","webpack:///./src/components/Post/Post.module.scss","webpack:///./src/components/Post/Meta/Meta.module.scss"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","iframeResizer","fn","module","exports","createCommonjsModule","undefined$1","window","$","count","logEnabled","hiddenCheckEnabled","msgHeaderLen","msgId","msgIdLen","pagePosition","requestAnimationFrame","resetRequiredMethods","max","scroll","bodyScroll","documentElementScroll","settings","timer","defaults","autoResize","bodyBackground","bodyMargin","bodyMarginV1","bodyPadding","checkOrigin","inPageLinks","enablePublicMethods","heightCalculationMethod","id","interval","log","maxHeight","Infinity","maxWidth","minHeight","minWidth","resizeFrom","scrolling","sizeHeight","sizeWidth","warningTimeout","tolerance","widthCalculationMethod","onClose","onClosed","onInit","onMessage","warn","onMouseEnter","onMouseLeave","onResized","onScroll","frameTimer","jQuery","iFrameResize","options","filter","each","index","element","setupIFrame","end","info","factory","getMutationObserver","MutationObserver","WebKitMutationObserver","MozMutationObserver","addEventListener","el","evt","func","removeEventListener","formatLogHeader","iframeId","retStr","top","self","parentIFrame","getId","getMyID","isLogEnabled","msg","output","type","enabled","console","iFrameListener","event","resizeIFrame","ensureInRange","syncResize","setSize","messageData","setPagePosition","on","getPaddingEnds","compStyle","boxSizing","paddingTop","parseInt","paddingBottom","getBorderEnds","borderTopWidth","borderBottomWidth","Dimension","Number","min","dimension","toLowerCase","size","getMsgBody","offset","substr","sendPageInfoToIframe","iframe","time","frameId","bodyPosition","iFramePosition","trigger","document","body","getBoundingClientRect","JSON","stringify","iframeHeight","height","iframeWidth","width","clientHeight","Math","documentElement","innerHeight","clientWidth","innerWidth","offsetTop","offsetLeft","left","scrollTop","pageYOffset","scrollLeft","pageXOffset","documentHeight","documentWidth","windowHeight","windowWidth","setTimeout","getElementPosition","getPagePosition","x","floor","y","scrollRequestFromChild","addOffset","newPosition","scrollTo","unsetPagePosition","onMouse","screenX","screenY","funcName","val","chkEvent","retBool","retCode","data","createOutgoingMsg","iFrameReadyMsgReceived","split","getComputedStyle","loaded","true","false","undefined","hasSettings","remoteHost","origin","constructor","Array","checkList","Error","isMessageFromIFrame","firstRun","closeIFrame","msgBody","message","parse","setListener","sendPageInfo","stop","forEach","stopPageInfo","startPageInfoMonitor","location","hash","hashData","decodeURIComponent","getElementById","getElementsByName","jumpPosition","moveToAnchor","resetIFrame","actionMsg","retVal","TypeError","removeIframeListeners","parentNode","removeChild","error","chkZero","checkIFrames","settingId","chkDimension","style","offsetParent","checkIFrame","mutationObserved","mutations","debouce","querySelector","observe","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","fixHiddenIFrames","processDimension","setDimension","doNotSync","jasmine","calleeMsg","noResponseWarning","errorShown","contentWindow","targetOrigin","postMessage","msgTimeout","depricate","splitName","name","charAt","toUpperCase","slice","src","ensureHasId","join","checkOptions","option","copyOptions","match","processOptions","overflow","setScrolling","addStyle","chkMinMax","setLimits","mutation","removedNodes","removedNode","createDestroyObserver","resetRequertMethod","iFrameResizer","close","bind","removeListeners","resize","anchor","sendMessage","tabVisible","visibilityState","sendTriggerMsg","eventName","isIFrameResizeEnabled","setupEventListeners","init","tagName","chkType","iFrames","push","vendors","setupRequestAnimationFrame","warnDeprecatedOptions","querySelectorAll","warning","warning_1","props","title","forwardRef","rest","iframeProps","filterIframeAttribs","iframeRef","current","createElement","ref","defaultProps","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","defineProperties","_ref","userId","referrer","_ref$style","currentUrl","href","concat","border","margin","Comments","postTitle","postSlug","useSiteMetadata","url","disqusShortname","shortname","identifier","Content","className","styles","dangerouslySetInnerHTML","__html","Meta","date","Date","toLocaleDateString","year","month","day","Tags","tags","tagSlugs","map","slug","to","Post","post","html","fields","frontmatter","PostTemplate","siteTitle","siteSubtitle","subtitle","markdownRemark","description","postDescription","socialImage","metaDescription","Layout","_createClass","descriptor","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","__esModule","default","_classCallCheck","instance","_possibleConstructorReturn","ReferenceError","DISQUS_CONFIG","__disqusAdded","copyProps","context","onNewComment","language","_objectWithoutProperties","prop","page","callbacks","DisqusThread","_React$Component","__proto__","getPrototypeOf","subClass","superClass","create","setPrototypeOf","_inherits","loadDisqus","nextProps","nextState","_this2","reduce","memo","some","config","child","disqus","parent","getElementsByTagName","async","appendChild","_this3","DISQUS","reset","reload","replace","disqus_config","addDisqusScript","Component","displayName","propTypes","string","isRequired","category_id"],"mappings":"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","file":"component---src-templates-post-template-js-f27cc07e91eb07abd409.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { useRef, useEffect, useImperativeHandle } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar iframeResizer = createCommonjsModule(function (module) {\n  (function (undefined$1) {\n    if (typeof window === 'undefined') return; // don't run for server side render\n\n    var count = 0,\n        logEnabled = false,\n        hiddenCheckEnabled = false,\n        msgHeader = 'message',\n        msgHeaderLen = msgHeader.length,\n        msgId = '[iFrameSizer]',\n        // Must match iframe msg ID\n    msgIdLen = msgId.length,\n        pagePosition = null,\n        requestAnimationFrame = window.requestAnimationFrame,\n        resetRequiredMethods = {\n      max: 1,\n      scroll: 1,\n      bodyScroll: 1,\n      documentElementScroll: 1\n    },\n        settings = {},\n        timer = null,\n        defaults = {\n      autoResize: true,\n      bodyBackground: null,\n      bodyMargin: null,\n      bodyMarginV1: 8,\n      bodyPadding: null,\n      checkOrigin: true,\n      inPageLinks: false,\n      enablePublicMethods: true,\n      heightCalculationMethod: 'bodyOffset',\n      id: 'iFrameResizer',\n      interval: 32,\n      log: false,\n      maxHeight: Infinity,\n      maxWidth: Infinity,\n      minHeight: 0,\n      minWidth: 0,\n      resizeFrom: 'parent',\n      scrolling: false,\n      sizeHeight: true,\n      sizeWidth: false,\n      warningTimeout: 5000,\n      tolerance: 0,\n      widthCalculationMethod: 'scroll',\n      onClose: function onClose() {\n        return true;\n      },\n      onClosed: function onClosed() {},\n      onInit: function onInit() {},\n      onMessage: function onMessage() {\n        warn('onMessage function not defined');\n      },\n      onMouseEnter: function onMouseEnter() {},\n      onMouseLeave: function onMouseLeave() {},\n      onResized: function onResized() {},\n      onScroll: function onScroll() {\n        return true;\n      }\n    };\n\n    function getMutationObserver() {\n      return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n    }\n\n    function addEventListener(el, evt, func) {\n      el.addEventListener(evt, func, false);\n    }\n\n    function removeEventListener(el, evt, func) {\n      el.removeEventListener(evt, func, false);\n    }\n\n    function setupRequestAnimationFrame() {\n      var vendors = ['moz', 'webkit', 'o', 'ms'];\n      var x; // Remove vendor prefixing if prefixed and break early if not\n\n      for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {\n        requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n      }\n\n      if (!requestAnimationFrame) {\n        log('setup', 'RequestAnimationFrame not supported');\n      } else {\n        // Firefox extension content-scripts have a globalThis object that is not the same as window.\n        // Binding `requestAnimationFrame` to window allows the function to work and prevents errors\n        // being thrown when run in that context, and should be a no-op in every other context.\n        requestAnimationFrame = requestAnimationFrame.bind(window);\n      }\n    }\n\n    function getMyID(iframeId) {\n      var retStr = 'Host page: ' + iframeId;\n\n      if (window.top !== window.self) {\n        // eslint-disable-next-line unicorn/prefer-ternary\n        if (window.parentIFrame && window.parentIFrame.getId) {\n          retStr = window.parentIFrame.getId() + ': ' + iframeId;\n        } else {\n          retStr = 'Nested host page: ' + iframeId;\n        }\n      }\n\n      return retStr;\n    }\n\n    function formatLogHeader(iframeId) {\n      return msgId + '[' + getMyID(iframeId) + ']';\n    }\n\n    function isLogEnabled(iframeId) {\n      return settings[iframeId] ? settings[iframeId].log : logEnabled;\n    }\n\n    function log(iframeId, msg) {\n      output('log', iframeId, msg, isLogEnabled(iframeId));\n    }\n\n    function info(iframeId, msg) {\n      output('info', iframeId, msg, isLogEnabled(iframeId));\n    }\n\n    function warn(iframeId, msg) {\n      output('warn', iframeId, msg, true);\n    }\n\n    function output(type, iframeId, msg, enabled) {\n      if (true === enabled && 'object' === typeof window.console) {\n        // eslint-disable-next-line no-console\n        console[type](formatLogHeader(iframeId), msg);\n      }\n    }\n\n    function iFrameListener(event) {\n      function resizeIFrame() {\n        function resize() {\n          setSize(messageData);\n          setPagePosition(iframeId);\n          on('onResized', messageData);\n        }\n\n        ensureInRange('Height');\n        ensureInRange('Width');\n        syncResize(resize, messageData, 'init');\n      }\n\n      function processMsg() {\n        var data = msg.substr(msgIdLen).split(':');\n        var height = data[1] ? parseInt(data[1], 10) : 0;\n        var iframe = settings[data[0]] && settings[data[0]].iframe;\n        var compStyle = getComputedStyle(iframe);\n        return {\n          iframe: iframe,\n          id: data[0],\n          height: height + getPaddingEnds(compStyle) + getBorderEnds(compStyle),\n          width: data[2],\n          type: data[3]\n        };\n      }\n\n      function getPaddingEnds(compStyle) {\n        if (compStyle.boxSizing !== 'border-box') {\n          return 0;\n        }\n\n        var top = compStyle.paddingTop ? parseInt(compStyle.paddingTop, 10) : 0;\n        var bot = compStyle.paddingBottom ? parseInt(compStyle.paddingBottom, 10) : 0;\n        return top + bot;\n      }\n\n      function getBorderEnds(compStyle) {\n        if (compStyle.boxSizing !== 'border-box') {\n          return 0;\n        }\n\n        var top = compStyle.borderTopWidth ? parseInt(compStyle.borderTopWidth, 10) : 0;\n        var bot = compStyle.borderBottomWidth ? parseInt(compStyle.borderBottomWidth, 10) : 0;\n        return top + bot;\n      }\n\n      function ensureInRange(Dimension) {\n        var max = Number(settings[iframeId]['max' + Dimension]),\n            min = Number(settings[iframeId]['min' + Dimension]),\n            dimension = Dimension.toLowerCase(),\n            size = Number(messageData[dimension]);\n        log(iframeId, 'Checking ' + dimension + ' is in range ' + min + '-' + max);\n\n        if (size < min) {\n          size = min;\n          log(iframeId, 'Set ' + dimension + ' to min value');\n        }\n\n        if (size > max) {\n          size = max;\n          log(iframeId, 'Set ' + dimension + ' to max value');\n        }\n\n        messageData[dimension] = '' + size;\n      }\n\n      function isMessageFromIFrame() {\n        function checkAllowedOrigin() {\n          function checkList() {\n            var i = 0,\n                retCode = false;\n            log(iframeId, 'Checking connection is from allowed list of origins: ' + checkOrigin);\n\n            for (; i < checkOrigin.length; i++) {\n              if (checkOrigin[i] === origin) {\n                retCode = true;\n                break;\n              }\n            }\n\n            return retCode;\n          }\n\n          function checkSingle() {\n            var remoteHost = settings[iframeId] && settings[iframeId].remoteHost;\n            log(iframeId, 'Checking connection is from: ' + remoteHost);\n            return origin === remoteHost;\n          }\n\n          return checkOrigin.constructor === Array ? checkList() : checkSingle();\n        }\n\n        var origin = event.origin,\n            checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin;\n\n        if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {\n          throw new Error('Unexpected message received from: ' + origin + ' for ' + messageData.iframe.id + '. Message was: ' + event.data + '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.');\n        }\n\n        return true;\n      }\n\n      function isMessageForUs() {\n        return msgId === ('' + msg).substr(0, msgIdLen) && msg.substr(msgIdLen).split(':')[0] in settings; // ''+Protects against non-string msg\n      }\n\n      function isMessageFromMetaParent() {\n        // Test if this message is from a parent above us. This is an ugly test, however, updating\n        // the message format would break backwards compatibity.\n        var retCode = (messageData.type in {\n          true: 1,\n          false: 1,\n          undefined: 1\n        });\n\n        if (retCode) {\n          log(iframeId, 'Ignoring init message from meta parent page');\n        }\n\n        return retCode;\n      }\n\n      function getMsgBody(offset) {\n        return msg.substr(msg.indexOf(':') + msgHeaderLen + offset);\n      }\n\n      function forwardMsgFromIFrame(msgBody) {\n        log(iframeId, 'onMessage passed: {iframe: ' + messageData.iframe.id + ', message: ' + msgBody + '}');\n        on('onMessage', {\n          iframe: messageData.iframe,\n          message: JSON.parse(msgBody)\n        });\n        log(iframeId, '--');\n      }\n\n      function getPageInfo() {\n        var bodyPosition = document.body.getBoundingClientRect(),\n            iFramePosition = messageData.iframe.getBoundingClientRect();\n        return JSON.stringify({\n          iframeHeight: iFramePosition.height,\n          iframeWidth: iFramePosition.width,\n          clientHeight: Math.max(document.documentElement.clientHeight, window.innerHeight || 0),\n          clientWidth: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\n          offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),\n          offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),\n          scrollTop: window.pageYOffset,\n          scrollLeft: window.pageXOffset,\n          documentHeight: document.documentElement.clientHeight,\n          documentWidth: document.documentElement.clientWidth,\n          windowHeight: window.innerHeight,\n          windowWidth: window.innerWidth\n        });\n      }\n\n      function sendPageInfoToIframe(iframe, iframeId) {\n        function debouncedTrigger() {\n          trigger('Send Page Info', 'pageInfo:' + getPageInfo(), iframe, iframeId);\n        }\n\n        debounceFrameEvents(debouncedTrigger, 32, iframeId);\n      }\n\n      function startPageInfoMonitor() {\n        function setListener(type, func) {\n          function sendPageInfo() {\n            if (settings[id]) {\n              sendPageInfoToIframe(settings[id].iframe, id);\n            } else {\n              stop();\n            }\n          }\n\n          ['scroll', 'resize'].forEach(function (evt) {\n            log(id, type + evt + ' listener for sendPageInfo');\n            func(window, evt, sendPageInfo);\n          });\n        }\n\n        function stop() {\n          setListener('Remove ', removeEventListener);\n        }\n\n        function start() {\n          setListener('Add ', addEventListener);\n        }\n\n        var id = iframeId; // Create locally scoped copy of iFrame ID\n\n        start();\n\n        if (settings[id]) {\n          settings[id].stopPageInfo = stop;\n        }\n      }\n\n      function stopPageInfoMonitor() {\n        if (settings[iframeId] && settings[iframeId].stopPageInfo) {\n          settings[iframeId].stopPageInfo();\n          delete settings[iframeId].stopPageInfo;\n        }\n      }\n\n      function checkIFrameExists() {\n        var retBool = true;\n\n        if (null === messageData.iframe) {\n          warn(iframeId, 'IFrame (' + messageData.id + ') not found');\n          retBool = false;\n        }\n\n        return retBool;\n      }\n\n      function getElementPosition(target) {\n        var iFramePosition = target.getBoundingClientRect();\n        getPagePosition(iframeId);\n        return {\n          x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),\n          y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))\n        };\n      }\n\n      function scrollRequestFromChild(addOffset) {\n        /* istanbul ignore next */\n        // Not testable in Karma\n        function reposition() {\n          pagePosition = newPosition;\n          scrollTo();\n          log(iframeId, '--');\n        }\n\n        function calcOffset() {\n          return {\n            x: Number(messageData.width) + offset.x,\n            y: Number(messageData.height) + offset.y\n          };\n        }\n\n        function scrollParent() {\n          if (window.parentIFrame) {\n            window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](newPosition.x, newPosition.y);\n          } else {\n            warn(iframeId, 'Unable to scroll to requested position, window.parentIFrame not found');\n          }\n        }\n\n        var offset = addOffset ? getElementPosition(messageData.iframe) : {\n          x: 0,\n          y: 0\n        },\n            newPosition = calcOffset();\n        log(iframeId, 'Reposition requested from iFrame (offset x:' + offset.x + ' y:' + offset.y + ')');\n\n        if (window.top !== window.self) {\n          scrollParent();\n        } else {\n          reposition();\n        }\n      }\n\n      function scrollTo() {\n        if (false !== on('onScroll', pagePosition)) {\n          setPagePosition(iframeId);\n        } else {\n          unsetPagePosition();\n        }\n      }\n\n      function findTarget(location) {\n        function jumpToTarget() {\n          var jumpPosition = getElementPosition(target);\n          log(iframeId, 'Moving to in page link (#' + hash + ') at x: ' + jumpPosition.x + ' y: ' + jumpPosition.y);\n          pagePosition = {\n            x: jumpPosition.x,\n            y: jumpPosition.y\n          };\n          scrollTo();\n          log(iframeId, '--');\n        }\n\n        function jumpToParent() {\n          if (window.parentIFrame) {\n            window.parentIFrame.moveToAnchor(hash);\n          } else {\n            log(iframeId, 'In page link #' + hash + ' not found and window.parentIFrame not found');\n          }\n        }\n\n        var hash = location.split('#')[1] || '',\n            hashData = decodeURIComponent(hash),\n            target = document.getElementById(hashData) || document.getElementsByName(hashData)[0];\n\n        if (target) {\n          jumpToTarget();\n        } else if (window.top !== window.self) {\n          jumpToParent();\n        } else {\n          log(iframeId, 'In page link #' + hash + ' not found');\n        }\n      }\n\n      function onMouse(event) {\n        on(event, {\n          iframe: messageData.iframe,\n          screenX: messageData.width,\n          screenY: messageData.height,\n          type: messageData.type\n        });\n      }\n\n      function on(funcName, val) {\n        return chkEvent(iframeId, funcName, val);\n      }\n\n      function actionMsg() {\n        if (settings[iframeId] && settings[iframeId].firstRun) firstRun();\n\n        switch (messageData.type) {\n          case 'close':\n            closeIFrame(messageData.iframe);\n            break;\n\n          case 'message':\n            forwardMsgFromIFrame(getMsgBody(6));\n            break;\n\n          case 'mouseenter':\n            onMouse('onMouseEnter');\n            break;\n\n          case 'mouseleave':\n            onMouse('onMouseLeave');\n            break;\n\n          case 'autoResize':\n            settings[iframeId].autoResize = JSON.parse(getMsgBody(9));\n            break;\n\n          case 'scrollTo':\n            scrollRequestFromChild(false);\n            break;\n\n          case 'scrollToOffset':\n            scrollRequestFromChild(true);\n            break;\n\n          case 'pageInfo':\n            sendPageInfoToIframe(settings[iframeId] && settings[iframeId].iframe, iframeId);\n            startPageInfoMonitor();\n            break;\n\n          case 'pageInfoStop':\n            stopPageInfoMonitor();\n            break;\n\n          case 'inPageLink':\n            findTarget(getMsgBody(9));\n            break;\n\n          case 'reset':\n            resetIFrame(messageData);\n            break;\n\n          case 'init':\n            resizeIFrame();\n            on('onInit', messageData.iframe);\n            break;\n\n          default:\n            resizeIFrame();\n        }\n      }\n\n      function hasSettings(iframeId) {\n        var retBool = true;\n\n        if (!settings[iframeId]) {\n          retBool = false;\n          warn(messageData.type + ' No settings for ' + iframeId + '. Message was: ' + msg);\n        }\n\n        return retBool;\n      }\n\n      function iFrameReadyMsgReceived() {\n        // eslint-disable-next-line no-restricted-syntax, guard-for-in\n        for (var iframeId in settings) {\n          trigger('iFrame requested init', createOutgoingMsg(iframeId), settings[iframeId].iframe, iframeId);\n        }\n      }\n\n      function firstRun() {\n        if (settings[iframeId]) {\n          settings[iframeId].firstRun = false;\n        }\n      }\n\n      var msg = event.data,\n          messageData = {},\n          iframeId = null;\n\n      if ('[iFrameResizerChild]Ready' === msg) {\n        iFrameReadyMsgReceived();\n      } else if (isMessageForUs()) {\n        messageData = processMsg();\n        iframeId = messageData.id;\n\n        if (settings[iframeId]) {\n          settings[iframeId].loaded = true;\n        }\n\n        if (!isMessageFromMetaParent() && hasSettings(iframeId)) {\n          log(iframeId, 'Received: ' + msg);\n\n          if (checkIFrameExists() && isMessageFromIFrame()) {\n            actionMsg();\n          }\n        }\n      } else {\n        info(iframeId, 'Ignored: ' + msg);\n      }\n    }\n\n    function chkEvent(iframeId, funcName, val) {\n      var func = null,\n          retVal = null;\n\n      if (settings[iframeId]) {\n        func = settings[iframeId][funcName];\n\n        if ('function' === typeof func) {\n          retVal = func(val);\n        } else {\n          throw new TypeError(funcName + ' on iFrame[' + iframeId + '] is not a function');\n        }\n      }\n\n      return retVal;\n    }\n\n    function removeIframeListeners(iframe) {\n      var iframeId = iframe.id;\n      delete settings[iframeId];\n    }\n\n    function closeIFrame(iframe) {\n      var iframeId = iframe.id;\n\n      if (chkEvent(iframeId, 'onClose', iframeId) === false) {\n        log(iframeId, 'Close iframe cancelled by onClose event');\n        return;\n      }\n\n      log(iframeId, 'Removing iFrame: ' + iframeId);\n\n      try {\n        // Catch race condition error with React\n        if (iframe.parentNode) {\n          iframe.parentNode.removeChild(iframe);\n        }\n      } catch (error) {\n        warn(error);\n      }\n\n      chkEvent(iframeId, 'onClosed', iframeId);\n      log(iframeId, '--');\n      removeIframeListeners(iframe);\n    }\n\n    function getPagePosition(iframeId) {\n      if (null === pagePosition) {\n        pagePosition = {\n          x: window.pageXOffset !== undefined$1 ? window.pageXOffset : document.documentElement.scrollLeft,\n          y: window.pageYOffset !== undefined$1 ? window.pageYOffset : document.documentElement.scrollTop\n        };\n        log(iframeId, 'Get page position: ' + pagePosition.x + ',' + pagePosition.y);\n      }\n    }\n\n    function setPagePosition(iframeId) {\n      if (null !== pagePosition) {\n        window.scrollTo(pagePosition.x, pagePosition.y);\n        log(iframeId, 'Set page position: ' + pagePosition.x + ',' + pagePosition.y);\n        unsetPagePosition();\n      }\n    }\n\n    function unsetPagePosition() {\n      pagePosition = null;\n    }\n\n    function resetIFrame(messageData) {\n      function reset() {\n        setSize(messageData);\n        trigger('reset', 'reset', messageData.iframe, messageData.id);\n      }\n\n      log(messageData.id, 'Size reset requested by ' + ('init' === messageData.type ? 'host page' : 'iFrame'));\n      getPagePosition(messageData.id);\n      syncResize(reset, messageData, 'reset');\n    }\n\n    function setSize(messageData) {\n      function setDimension(dimension) {\n        if (!messageData.id) {\n          log('undefined', 'messageData id not set');\n          return;\n        }\n\n        messageData.iframe.style[dimension] = messageData[dimension] + 'px';\n        log(messageData.id, 'IFrame (' + iframeId + ') ' + dimension + ' set to ' + messageData[dimension] + 'px');\n      }\n\n      function chkZero(dimension) {\n        // FireFox sets dimension of hidden iFrames to zero.\n        // So if we detect that set up an event to check for\n        // when iFrame becomes visible.\n\n        /* istanbul ignore next */\n        // Not testable in PhantomJS\n        if (!hiddenCheckEnabled && '0' === messageData[dimension]) {\n          hiddenCheckEnabled = true;\n          log(iframeId, 'Hidden iFrame detected, creating visibility listener');\n          fixHiddenIFrames();\n        }\n      }\n\n      function processDimension(dimension) {\n        setDimension(dimension);\n        chkZero(dimension);\n      }\n\n      var iframeId = messageData.iframe.id;\n\n      if (settings[iframeId]) {\n        if (settings[iframeId].sizeHeight) {\n          processDimension('height');\n        }\n\n        if (settings[iframeId].sizeWidth) {\n          processDimension('width');\n        }\n      }\n    }\n\n    function syncResize(func, messageData, doNotSync) {\n      /* istanbul ignore if */\n      // Not testable in PhantomJS\n      if (doNotSync !== messageData.type && requestAnimationFrame && // including check for jasmine because had trouble getting spy to work in unit test using requestAnimationFrame\n      !window.jasmine) {\n        log(messageData.id, 'Requesting animation frame');\n        requestAnimationFrame(func);\n      } else {\n        func();\n      }\n    }\n\n    function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {\n      function postMessageToIFrame() {\n        var target = settings[id] && settings[id].targetOrigin;\n        log(id, '[' + calleeMsg + '] Sending msg to iframe[' + id + '] (' + msg + ') targetOrigin: ' + target);\n        iframe.contentWindow.postMessage(msgId + msg, target);\n      }\n\n      function iFrameNotFound() {\n        warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found');\n      }\n\n      function chkAndSend() {\n        if (iframe && 'contentWindow' in iframe && null !== iframe.contentWindow) {\n          // Null test for PhantomJS\n          postMessageToIFrame();\n        } else {\n          iFrameNotFound();\n        }\n      }\n\n      function warnOnNoResponse() {\n        function warning() {\n          if (settings[id] && !settings[id].loaded && !errorShown) {\n            errorShown = true;\n            warn(id, 'IFrame has not responded within ' + settings[id].warningTimeout / 1000 + ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.');\n          }\n        }\n\n        if (!!noResponseWarning && settings[id] && !!settings[id].warningTimeout) {\n          settings[id].msgTimeout = setTimeout(warning, settings[id].warningTimeout);\n        }\n      }\n\n      var errorShown = false;\n      id = id || iframe.id;\n\n      if (settings[id]) {\n        chkAndSend();\n        warnOnNoResponse();\n      }\n    }\n\n    function createOutgoingMsg(iframeId) {\n      return iframeId + ':' + settings[iframeId].bodyMarginV1 + ':' + settings[iframeId].sizeWidth + ':' + settings[iframeId].log + ':' + settings[iframeId].interval + ':' + settings[iframeId].enablePublicMethods + ':' + settings[iframeId].autoResize + ':' + settings[iframeId].bodyMargin + ':' + settings[iframeId].heightCalculationMethod + ':' + settings[iframeId].bodyBackground + ':' + settings[iframeId].bodyPadding + ':' + settings[iframeId].tolerance + ':' + settings[iframeId].inPageLinks + ':' + settings[iframeId].resizeFrom + ':' + settings[iframeId].widthCalculationMethod;\n    }\n\n    function setupIFrame(iframe, options) {\n      function setLimits() {\n        function addStyle(style) {\n          if (Infinity !== settings[iframeId][style] && 0 !== settings[iframeId][style]) {\n            iframe.style[style] = settings[iframeId][style] + 'px';\n            log(iframeId, 'Set ' + style + ' = ' + settings[iframeId][style] + 'px');\n          }\n        }\n\n        function chkMinMax(dimension) {\n          if (settings[iframeId]['min' + dimension] > settings[iframeId]['max' + dimension]) {\n            throw new Error('Value for min' + dimension + ' can not be greater than max' + dimension);\n          }\n        }\n\n        chkMinMax('Height');\n        chkMinMax('Width');\n        addStyle('maxHeight');\n        addStyle('minHeight');\n        addStyle('maxWidth');\n        addStyle('minWidth');\n      }\n\n      function newId() {\n        var id = options && options.id || defaults.id + count++;\n\n        if (null !== document.getElementById(id)) {\n          id += count++;\n        }\n\n        return id;\n      }\n\n      function ensureHasId(iframeId) {\n        if ('' === iframeId) {\n          // eslint-disable-next-line no-multi-assign\n          iframe.id = iframeId = newId();\n          logEnabled = (options || {}).log;\n          log(iframeId, 'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')');\n        }\n\n        return iframeId;\n      }\n\n      function setScrolling() {\n        log(iframeId, 'IFrame scrolling ' + (settings[iframeId] && settings[iframeId].scrolling ? 'enabled' : 'disabled') + ' for ' + iframeId);\n        iframe.style.overflow = false === (settings[iframeId] && settings[iframeId].scrolling) ? 'hidden' : 'auto';\n\n        switch (settings[iframeId] && settings[iframeId].scrolling) {\n          case 'omit':\n            break;\n\n          case true:\n            iframe.scrolling = 'yes';\n            break;\n\n          case false:\n            iframe.scrolling = 'no';\n            break;\n\n          default:\n            iframe.scrolling = settings[iframeId] ? settings[iframeId].scrolling : 'no';\n        }\n      } // The V1 iFrame script expects an int, where as in V2 expects a CSS\n      // string value such as '1px 3em', so if we have an int for V2, set V1=V2\n      // and then convert V2 to a string PX value.\n\n\n      function setupBodyMarginValues() {\n        if ('number' === typeof (settings[iframeId] && settings[iframeId].bodyMargin) || '0' === (settings[iframeId] && settings[iframeId].bodyMargin)) {\n          settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin;\n          settings[iframeId].bodyMargin = '' + settings[iframeId].bodyMargin + 'px';\n        }\n      }\n\n      function checkReset() {\n        // Reduce scope of firstRun to function, because IE8's JS execution\n        // context stack is borked and this value gets externally\n        // changed midway through running this function!!!\n        var firstRun = settings[iframeId] && settings[iframeId].firstRun,\n            resetRequertMethod = settings[iframeId] && settings[iframeId].heightCalculationMethod in resetRequiredMethods;\n\n        if (!firstRun && resetRequertMethod) {\n          resetIFrame({\n            iframe: iframe,\n            height: 0,\n            width: 0,\n            type: 'init'\n          });\n        }\n      }\n\n      function setupIFrameObject() {\n        if (settings[iframeId]) {\n          settings[iframeId].iframe.iFrameResizer = {\n            close: closeIFrame.bind(null, settings[iframeId].iframe),\n            removeListeners: removeIframeListeners.bind(null, settings[iframeId].iframe),\n            resize: trigger.bind(null, 'Window resize', 'resize', settings[iframeId].iframe),\n            moveToAnchor: function moveToAnchor(anchor) {\n              trigger('Move to anchor', 'moveToAnchor:' + anchor, settings[iframeId].iframe, iframeId);\n            },\n            sendMessage: function sendMessage(message) {\n              message = JSON.stringify(message);\n              trigger('Send Message', 'message:' + message, settings[iframeId].iframe, iframeId);\n            }\n          };\n        }\n      } // We have to call trigger twice, as we can not be sure if all\n      // iframes have completed loading when this code runs. The\n      // event listener also catches the page changing in the iFrame.\n\n\n      function init(msg) {\n        function iFrameLoaded() {\n          trigger('iFrame.onload', msg, iframe, undefined$1, true);\n          checkReset();\n        }\n\n        function createDestroyObserver(MutationObserver) {\n          if (!iframe.parentNode) {\n            return;\n          }\n\n          var destroyObserver = new MutationObserver(function (mutations) {\n            mutations.forEach(function (mutation) {\n              var removedNodes = Array.prototype.slice.call(mutation.removedNodes); // Transform NodeList into an Array\n\n              removedNodes.forEach(function (removedNode) {\n                if (removedNode === iframe) {\n                  closeIFrame(iframe);\n                }\n              });\n            });\n          });\n          destroyObserver.observe(iframe.parentNode, {\n            childList: true\n          });\n        }\n\n        var MutationObserver = getMutationObserver();\n\n        if (MutationObserver) {\n          createDestroyObserver(MutationObserver);\n        }\n\n        addEventListener(iframe, 'load', iFrameLoaded);\n        trigger('init', msg, iframe, undefined$1, true);\n      }\n\n      function checkOptions(options) {\n        if ('object' !== typeof options) {\n          throw new TypeError('Options is not an object');\n        }\n      }\n\n      function copyOptions(options) {\n        // eslint-disable-next-line no-restricted-syntax\n        for (var option in defaults) {\n          if (Object.prototype.hasOwnProperty.call(defaults, option)) {\n            settings[iframeId][option] = Object.prototype.hasOwnProperty.call(options, option) ? options[option] : defaults[option];\n          }\n        }\n      }\n\n      function getTargetOrigin(remoteHost) {\n        return '' === remoteHost || null !== remoteHost.match(/^(about:blank|javascript:|file:\\/\\/)/) ? '*' : remoteHost;\n      }\n\n      function depricate(key) {\n        var splitName = key.split('Callback');\n\n        if (splitName.length === 2) {\n          var name = 'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1);\n          this[name] = this[key];\n          delete this[key];\n          warn(iframeId, \"Deprecated: '\" + key + \"' has been renamed '\" + name + \"'. The old method will be removed in the next major version.\");\n        }\n      }\n\n      function processOptions(options) {\n        options = options || {};\n        settings[iframeId] = {\n          firstRun: true,\n          iframe: iframe,\n          remoteHost: iframe.src && iframe.src.split('/').slice(0, 3).join('/')\n        };\n        checkOptions(options);\n        Object.keys(options).forEach(depricate, options);\n        copyOptions(options);\n\n        if (settings[iframeId]) {\n          settings[iframeId].targetOrigin = true === settings[iframeId].checkOrigin ? getTargetOrigin(settings[iframeId].remoteHost) : '*';\n        }\n      }\n\n      function beenHere() {\n        return iframeId in settings && 'iFrameResizer' in iframe;\n      }\n\n      var iframeId = ensureHasId(iframe.id);\n\n      if (!beenHere()) {\n        processOptions(options);\n        setScrolling();\n        setLimits();\n        setupBodyMarginValues();\n        init(createOutgoingMsg(iframeId));\n        setupIFrameObject();\n      } else {\n        warn(iframeId, 'Ignored iFrame, already setup.');\n      }\n    }\n\n    function debouce(fn, time) {\n      if (null === timer) {\n        timer = setTimeout(function () {\n          timer = null;\n          fn();\n        }, time);\n      }\n    }\n\n    var frameTimer = {};\n\n    function debounceFrameEvents(fn, time, frameId) {\n      if (!frameTimer[frameId]) {\n        frameTimer[frameId] = setTimeout(function () {\n          frameTimer[frameId] = null;\n          fn();\n        }, time);\n      }\n    } // Not testable in PhantomJS\n\n    /* istanbul ignore next */\n\n\n    function fixHiddenIFrames() {\n      function checkIFrames() {\n        function checkIFrame(settingId) {\n          function chkDimension(dimension) {\n            return '0px' === (settings[settingId] && settings[settingId].iframe.style[dimension]);\n          }\n\n          function isVisible(el) {\n            return null !== el.offsetParent;\n          }\n\n          if (settings[settingId] && isVisible(settings[settingId].iframe) && (chkDimension('height') || chkDimension('width'))) {\n            trigger('Visibility change', 'resize', settings[settingId].iframe, settingId);\n          }\n        }\n\n        Object.keys(settings).forEach(function (key) {\n          checkIFrame(key);\n        });\n      }\n\n      function mutationObserved(mutations) {\n        log('window', 'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type);\n        debouce(checkIFrames, 16);\n      }\n\n      function createMutationObserver() {\n        var target = document.querySelector('body'),\n            config = {\n          attributes: true,\n          attributeOldValue: false,\n          characterData: true,\n          characterDataOldValue: false,\n          childList: true,\n          subtree: true\n        },\n            observer = new MutationObserver(mutationObserved);\n        observer.observe(target, config);\n      }\n\n      var MutationObserver = getMutationObserver();\n\n      if (MutationObserver) {\n        createMutationObserver();\n      }\n    }\n\n    function resizeIFrames(event) {\n      function resize() {\n        sendTriggerMsg('Window ' + event, 'resize');\n      }\n\n      log('window', 'Trigger event: ' + event);\n      debouce(resize, 16);\n    } // Not testable in PhantomJS\n\n    /* istanbul ignore next */\n\n\n    function tabVisible() {\n      function resize() {\n        sendTriggerMsg('Tab Visable', 'resize');\n      }\n\n      if ('hidden' !== document.visibilityState) {\n        log('document', 'Trigger event: Visiblity change');\n        debouce(resize, 16);\n      }\n    }\n\n    function sendTriggerMsg(eventName, event) {\n      function isIFrameResizeEnabled(iframeId) {\n        return settings[iframeId] && 'parent' === settings[iframeId].resizeFrom && settings[iframeId].autoResize && !settings[iframeId].firstRun;\n      }\n\n      Object.keys(settings).forEach(function (iframeId) {\n        if (isIFrameResizeEnabled(iframeId)) {\n          trigger(eventName, event, settings[iframeId].iframe, iframeId);\n        }\n      });\n    }\n\n    function setupEventListeners() {\n      addEventListener(window, 'message', iFrameListener);\n      addEventListener(window, 'resize', function () {\n        resizeIFrames('resize');\n      });\n      addEventListener(document, 'visibilitychange', tabVisible);\n      addEventListener(document, '-webkit-visibilitychange', tabVisible);\n    }\n\n    function factory() {\n      function init(options, element) {\n        function chkType() {\n          if (!element.tagName) {\n            throw new TypeError('Object is not a valid DOM element');\n          } else if ('IFRAME' !== element.tagName.toUpperCase()) {\n            throw new TypeError('Expected <IFRAME> tag, found <' + element.tagName + '>');\n          }\n        }\n\n        if (element) {\n          chkType();\n          setupIFrame(element, options);\n          iFrames.push(element);\n        }\n      }\n\n      function warnDeprecatedOptions(options) {\n        if (options && options.enablePublicMethods) {\n          warn('enablePublicMethods option has been removed, public methods are now always available in the iFrame');\n        }\n      }\n\n      var iFrames;\n      setupRequestAnimationFrame();\n      setupEventListeners();\n      return function iFrameResizeF(options, target) {\n        iFrames = []; // Only return iFrames past in on this call\n\n        warnDeprecatedOptions(options);\n\n        switch (typeof target) {\n          case 'undefined':\n          case 'string':\n            Array.prototype.forEach.call(document.querySelectorAll(target || 'iframe'), init.bind(undefined$1, options));\n            break;\n\n          case 'object':\n            init(options, target);\n            break;\n\n          default:\n            throw new TypeError('Unexpected data type (' + typeof target + ')');\n        }\n\n        return iFrames;\n      };\n    }\n\n    function createJQueryPublicMethod($) {\n      if (!$.fn) {\n        info('', 'Unable to bind to jQuery, it is not fully loaded.');\n      } else if (!$.fn.iFrameResize) {\n        $.fn.iFrameResize = function $iFrameResizeF(options) {\n          function init(index, element) {\n            setupIFrame(element, options);\n          }\n\n          return this.filter('iframe').each(init).end();\n        };\n      }\n    }\n\n    if (window.jQuery) {\n      createJQueryPublicMethod(window.jQuery);\n    }\n\n    if (typeof undefined$1 === 'function' && undefined$1.amd) {\n      undefined$1([], factory);\n    } else {\n      // Node for browserfy\n      module.exports = factory();\n    }\n\n    window.iFrameResize = window.iFrameResize || factory();\n  })();\n});\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function warning() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nvar warning_1 = warning;\n\nvar filterIframeAttribs = function filterIframeAttribs(props) {\n  var autoResize = props.autoResize,\n      bodyBackground = props.bodyBackground,\n      bodyMargin = props.bodyMargin,\n      bodyPadding = props.bodyPadding,\n      checkOrigin = props.checkOrigin,\n      inPageLinks = props.inPageLinks,\n      heightCalculationMethod = props.heightCalculationMethod,\n      interval = props.interval,\n      log = props.log,\n      maxHeight = props.maxHeight,\n      maxWidth = props.maxWidth,\n      minHeight = props.minHeight,\n      minWidth = props.minWidth,\n      resizeFrom = props.resizeFrom,\n      scrolling = props.scrolling,\n      sizeHeight = props.sizeHeight,\n      sizeWidth = props.sizeWidth,\n      warningTimeout = props.warningTimeout,\n      tolerance = props.tolerance,\n      widthCalculationMethod = props.widthCalculationMethod,\n      onClosed = props.onClosed,\n      onInit = props.onInit,\n      onMessage = props.onMessage,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      onResized = props.onResized,\n      iframeProps = _objectWithoutPropertiesLoose(props, [\"autoResize\", \"bodyBackground\", \"bodyMargin\", \"bodyPadding\", \"checkOrigin\", \"inPageLinks\", \"heightCalculationMethod\", \"interval\", \"log\", \"maxHeight\", \"maxWidth\", \"minHeight\", \"minWidth\", \"resizeFrom\", \"scrolling\", \"sizeHeight\", \"sizeWidth\", \"warningTimeout\", \"tolerance\", \"widthCalculationMethod\", \"onClosed\", \"onInit\", \"onMessage\", \"onMouseEnter\", \"onMouseLeave\", \"onResized\"]);\n\n  return iframeProps;\n};\n\nvar IframeResizer = function IframeResizer(props) {\n  var title = props.title,\n      forwardRef = props.forwardRef,\n      rest = _objectWithoutPropertiesLoose(props, [\"title\", \"forwardRef\"]);\n\n  var iframeProps = filterIframeAttribs(rest);\n  var iframeRef = useRef(null);\n\n  var onClose = function onClose() {\n    warning_1(!iframeRef.current, \"[iframeSizerReact][\" + (iframeRef && iframeRef.current && iframeRef.current.id) + \"] Close event ignored, to remove the iframe update your React component\");\n    return !iframeRef.current;\n  }; // This hook is only run once, as once iframeResizer is bound, it will\n  // deal with changes to the element and does not need recalling\n\n\n  useEffect(function () {\n    var iframe = iframeRef.current;\n    iframeResizer(_extends({}, rest, {\n      onClose: onClose\n    }), iframe);\n    return function () {\n      return iframe.iFrameResizer && iframe.iFrameResizer.removeListeners();\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useImperativeHandle(forwardRef, function () {\n    return {\n      resize: function resize() {\n        return iframeRef.current.iFrameResizer.resize();\n      },\n      moveToAnchor: function moveToAnchor(anchor) {\n        return iframeRef.current.iFrameResizer.moveToAnchor(anchor);\n      },\n      sendMessage: function sendMessage(message, targetOrigin) {\n        iframeRef.current.iFrameResizer.sendMessage(message, targetOrigin);\n      }\n    };\n  });\n  return /*#__PURE__*/React.createElement(\"iframe\", _extends({\n    title: title\n  }, iframeProps, {\n    ref: iframeRef\n  }));\n};\n\nIframeResizer.defaultProps = {\n  title: 'iframe'\n};\nexport default IframeResizer;","import _defineProperty from \"/Users/eason/project/elog/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport Iframe from 'iframe-resizer-react';\n\nvar LikeCoin = function LikeCoin(_ref) {\n  var userId = _ref.userId,\n      referrer = _ref.referrer,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style;\n  var currentUrl = referrer || window.location.href;\n  return /*#__PURE__*/React.createElement(Iframe, {\n    src: \"//button.like.co/in/embed/\".concat(userId, \"/button?type=wp&referrer=\").concat(currentUrl),\n    inPageLinks: true,\n    checkOrigin: ['//button.like.co'],\n    style: _objectSpread({\n      border: 0,\n      margin: 0\n    }, style)\n  });\n};\n\nexport default LikeCoin;","// @flow strict\nimport React from 'react';\nimport ReactDisqusComments from 'react-disqus-comments';\nimport { useSiteMetadata } from '../../../hooks';\n\ntype Props = {\n  postTitle: string,\n  postSlug: string\n};\n\nconst Comments = ({ postTitle, postSlug }: Props) => {\n  const { url, disqusShortname } = useSiteMetadata();\n\n  if (!disqusShortname) {\n    return null;\n  }\n\n  return (\n    <ReactDisqusComments\n      shortname={disqusShortname}\n      identifier={postTitle}\n      title={postTitle}\n      url={url + postSlug}\n    />\n  );\n};\n\nexport default Comments;\n","// @flow strict\nimport React from 'react';\nimport styles from './Content.module.scss';\n\ntype Props = {\n  body: string,\n  title: string\n};\n\nconst Content = ({ body, title }: Props) => (\n  <div className={styles['content']}>\n    <h1 className={styles['content__title']}>{title}</h1>\n    <div className={styles['content__body']} dangerouslySetInnerHTML={{ __html: body }} />\n  </div>\n);\n\nexport default Content;\n","// @flow strict\nimport React from 'react';\nimport styles from './Meta.module.scss';\n\ntype Props = {\n  date: string\n};\n\nconst Meta = ({ date }: Props) => (\n  <div className={styles['meta']}>\n    <p className={styles['meta__date']}>Published {new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })}</p>\n  </div>\n);\n\nexport default Meta;\n","// @flow strict\nimport React from 'react';\nimport { Link } from 'gatsby';\nimport styles from './Tags.module.scss';\n\ntype Props = {\n  tags: string[],\n  tagSlugs: string[]\n};\n\nconst Tags = ({ tags, tagSlugs }: Props) => (\n  <div className={styles['tags']}>\n    <ul className={styles['tags__list']}>\n      {tagSlugs && tagSlugs.map((slug, i) => (\n        <li className={styles['tags__list-item']} key={tags[i]}>\n          <Link to={slug} className={styles['tags__list-item-link']}>\n            {tags[i]}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nexport default Tags;\n","// @flow strict\nimport React from 'react';\nimport { Link } from 'gatsby';\n\nimport LikeCoin from 'react-likecoin';\n\n// import Author from './Author';\nimport Comments from './Comments';\nimport Content from './Content';\nimport Meta from './Meta';\nimport Tags from './Tags';\nimport styles from './Post.module.scss';\nimport type { Node } from '../../types';\nimport { useSiteMetadata } from '../../hooks';\n\ntype Props = {\n  post: Node,\n};\n\nconst Post = ({ post }: Props) => {\n  const { html } = post;\n  const { tagSlugs, slug } = post.fields;\n  const { tags, title, date } = post.frontmatter;\n  const { url } = useSiteMetadata();\n\n  return (\n    <div className={styles['post']}>\n      <Link className={styles['post__home-button']} to=\"/\">\n        All Articles\n      </Link>\n\n      <div className={styles['post__content']}>\n        <Content body={html} title={title} />\n      </div>\n\n      <div className={styles['post__footer']}>\n        <Meta date={date} />\n        <LikeCoin\n          userId=\"easonchang\"\n          referrer={url + slug}\n          style={{ width: '1px', minWidth: '100%', minHeight: 180 }}\n        />\n        {tags && tagSlugs && <Tags tags={tags} tagSlugs={tagSlugs} />}\n        {/* <Author /> */}\n      </div>\n\n      <div className={styles['post__comments']}>\n        <Comments postSlug={slug} postTitle={post.frontmatter.title} />\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","// @flow strict\nimport React from 'react';\nimport { graphql } from 'gatsby';\nimport Layout from '../components/Layout';\nimport Post from '../components/Post';\nimport { useSiteMetadata } from '../hooks';\nimport type { MarkdownRemark } from '../types';\n\ntype Props = {\n  data: {\n    markdownRemark: MarkdownRemark\n  }\n};\n\nconst PostTemplate = ({ data }: Props) => {\n  const { title: siteTitle, subtitle: siteSubtitle } = useSiteMetadata();\n  const { frontmatter } = data.markdownRemark;\n  const { title: postTitle, description: postDescription = '', socialImage = '' } = frontmatter;\n  const metaDescription = postDescription || siteSubtitle;\n\n  return (\n    <Layout title={`${postTitle} - ${siteTitle}`} description={metaDescription} socialImage={socialImage} >\n      <Post post={data.markdownRemark} />\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query PostBySlug($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      html\n      fields {\n        slug\n        tagSlugs\n      }\n      frontmatter {\n        date\n        description\n        tags\n        title\n        socialImage\n      }\n    }\n  }\n`;\n\nexport default PostTemplate;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content-module--content--3p512\",\"content__title\":\"Content-module--content__title--2BDW9\",\"content__body\":\"Content-module--content__body--2TrQ-\"};","'use strict';\n\nmodule.exports = require('./components/DisqusThread');","'use strict';\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar DISQUS_CONFIG = ['shortname', 'identifier', 'title', 'url', 'category_id', 'onNewComment', 'language'];\nvar __disqusAdded = false;\n\nfunction copyProps(context, props) {\n  var onNewComment = props.onNewComment,\n      language = props.language,\n      rest = _objectWithoutProperties(props, ['onNewComment', 'language']);\n\n  for (var prop in rest) {\n    context.page[prop] = rest[prop];\n  } // Setting the language - if none is provided, the default one is used\n\n\n  context.language = language;\n\n  if (onNewComment) {\n    context.callbacks = {\n      onNewComment: [onNewComment]\n    };\n  }\n}\n\nvar DisqusThread = function (_React$Component) {\n  _inherits(DisqusThread, _React$Component);\n\n  function DisqusThread() {\n    _classCallCheck(this, DisqusThread);\n\n    return _possibleConstructorReturn(this, (DisqusThread.__proto__ || Object.getPrototypeOf(DisqusThread)).apply(this, arguments));\n  }\n\n  _createClass(DisqusThread, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadDisqus();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.loadDisqus();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return nextProps.identifier !== this.props.identifier;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var props = Object.keys(this.props).reduce(function (memo, key) {\n        return DISQUS_CONFIG.some(function (config) {\n          return config === key;\n        }) ? memo : _extends({}, memo, _defineProperty({}, key, _this2.props[key]));\n      }, {});\n      return _react2.default.createElement('div', props, _react2.default.createElement('div', {\n        id: 'disqus_thread'\n      }));\n    }\n  }, {\n    key: 'addDisqusScript',\n    value: function addDisqusScript() {\n      if (__disqusAdded) {\n        return;\n      }\n\n      var child = this.disqus = document.createElement('script');\n      var parent = document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0];\n      child.async = true;\n      child.type = 'text/javascript';\n      child.src = '//' + this.props.shortname + '.disqus.com/embed.js';\n      parent.appendChild(child);\n      __disqusAdded = true;\n    }\n  }, {\n    key: 'loadDisqus',\n    value: function loadDisqus() {\n      var _this3 = this;\n\n      var props = {}; // Extract Disqus props that were supplied to this component\n\n      DISQUS_CONFIG.forEach(function (prop) {\n        // prop \"shortname\" is only necessary for loading the script, not for the config itself\n        if (prop !== 'shortname' && !!_this3.props[prop]) {\n          props[prop] = _this3.props[prop];\n        }\n      }); // If Disqus has already been added, reset it\n\n      if (typeof DISQUS !== 'undefined') {\n        DISQUS.reset({\n          reload: true,\n          config: function config() {\n            copyProps(this, props); // Disqus needs hashbang URL, see https://help.disqus.com/customer/portal/articles/472107\n\n            this.page.url = this.page.url.replace(/#/, '') + '#!newthread';\n          }\n        });\n      } else {\n        // Otherwise add Disqus to the page\n        window.disqus_config = function () {\n          copyProps(this, props);\n        };\n\n        this.addDisqusScript();\n      }\n    }\n  }]);\n\n  return DisqusThread;\n}(_react2.default.Component);\n\nDisqusThread.displayName = 'DisqusThread';\nDisqusThread.propTypes = {\n  id: _propTypes2.default.string,\n\n  /**\n   * `shortname` tells the Disqus service your forum's shortname,\n   * which is the unique identifier for your website as registered\n   * on Disqus. If undefined , the Disqus embed will not load.\n   */\n  shortname: _propTypes2.default.string.isRequired,\n\n  /**\n   * `identifier` tells the Disqus service how to identify the\n   * current page. When the Disqus embed is loaded, the identifier\n   * is used to look up the correct thread. If disqus_identifier\n   * is undefined, the page's URL will be used. The URL can be\n   * unreliable, such as when renaming an article slug or changing\n   * domains, so we recommend using your own unique way of\n   * identifying a thread.\n   */\n  identifier: _propTypes2.default.string,\n\n  /**\n   * `title` tells the Disqus service the title of the current page.\n   * This is used when creating the thread on Disqus for the first time.\n   * If undefined, Disqus will use the <title> attribute of the page.\n   * If that attribute could not be used, Disqus will use the URL of the page.\n   */\n  title: _propTypes2.default.string,\n\n  /**\n   * `url` tells the Disqus service the URL of the current page.\n   * If undefined, Disqus will take the window.location.href.\n   * This URL is used to look up or create a thread if disqus_identifier\n   * is undefined. In addition, this URL is always saved when a thread is\n   * being created so that Disqus knows what page a thread belongs to.\n   */\n  url: _propTypes2.default.string,\n\n  /**\n   * `category_id` tells the Disqus service the category to be used for\n   * the current page. This is used when creating the thread on Disqus\n   * for the first time.\n   */\n  category_id: _propTypes2.default.string,\n\n  /**\n   * `onNewComment` function accepts one parameter `comment` which is a\n   * JavaScript object with comment `id` and `text`. This allows you to track\n   * user comments and replies and run a script after a comment is posted.\n   */\n  onNewComment: _propTypes2.default.func,\n\n  /**\n   * `language` tells the Disqus service which language should be used.\n   * Please refer to https://www.transifex.com/disqus/disqus/ on which languages can be used\n   * If undefined, English is used as default one\n   */\n  language: _propTypes2.default.string\n};\nDisqusThread.defaultProps = {\n  url: typeof window === 'undefined' ? null : window.location.href\n};\nexports.default = DisqusThread;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tags\":\"Tags-module--tags--1L_ct\",\"tags__list\":\"Tags-module--tags__list--91FqN\",\"tags__list-item\":\"Tags-module--tags__list-item--1M30P\",\"tags__list-item-link\":\"Tags-module--tags__list-item-link--3SL_8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post__footer\":\"Post-module--post__footer--3WzWU\",\"post__comments\":\"Post-module--post__comments--25y6I\",\"post__home-button\":\"Post-module--post__home-button--16Kl0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meta__date\":\"Meta-module--meta__date--29eD7\"};"],"sourceRoot":""}